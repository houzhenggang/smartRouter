!function(){function e(){}function t(e){for(var t,n=0,r=i.length;r>n;n++)if(t=i[n],t.routerId===e)return t;return!1}function n(e){for(var t,n=0,r=i.length;r>n;n++)t=i[n],t.active=t.routerId===e}function r(e,t){var n,r=document.createElement("script");r.setAttribute("src",e),r.onreadystatechange=r.onload=function(){r.onreadystatechange=null,document.documentElement.removeChild(r),r=null,n||"function"==typeof t&&t(),n=!0},document.documentElement.appendChild(r)}function o(e,t){var n=document.createElement("div");n.style.display="none",n.setAttribute("id",e),n.innerHTML=t,document.documentElement.appendChild(n)}var i=[],u={},a={};e.prototype.nav=function(e){var a=e.routerId||"",c=e.view||"body",d=e.html||"",l=e.script||"",m=e.param||{},p=e.overwrite||!1;""===a&&console.error("routerId must be a string");var v=t(a);v?p?(v.view=c,v.script=l,u[a]=m,o(a,d),document.getElementById(c).innerHTML=d,""!=l&&r(l)):(document.getElementById(v.view).innerHTML=document.getElementById(a).innerHTML,""!=l&&r(l)):(i.push({routerId:a,view:c,script:l}),u[a]=m,o(a,d),document.getElementById(c).innerHTML=d,""!=l&&r(l)),n(a)},e.prototype["goto"]=function(e){void 0===e&&(e=-1);for(var t,n,r=0,o=i.length;o>r;r++)if(n=i[r],n.active){t=r;break}var o=i.length,u=t+e;u>=0&&o>u?this.nav(i[u]):console.error("请确认路由的索引")},e.prototype.getParam=function(e){return""===e?!1:u[e]},e.prototype.getAllParam=function(){return u},e.prototype.onlyPostParam=function(e){var t=e.id||"";return""===t?!1:void(a[t]=e)},e.prototype.onlyGetParam=function(e){return a[e]},window.smartRouter=new e}();