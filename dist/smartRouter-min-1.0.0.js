!function(){function e(){}function t(e){for(var t,n=0,o=i.length;o>n;n++)if(t=i[n],t.templateId===e)return t;return!1}function n(e){for(var t,n=0,o=i.length;o>n;n++)t=i[n],t.active=t.templateId===e}function o(e,t){var n,o=document.createElement("script");o.setAttribute("src",e),o.onreadystatechange=o.onload=function(){o.onreadystatechange=null,document.documentElement.removeChild(o),o=null,n||"function"==typeof t&&t(),n=!0},document.documentElement.appendChild(o)}function r(e,t){var n=document.createElement("div");n.style.display="none",n.setAttribute("id",e),n.innerHTML=t,document.documentElement.appendChild(n)}var i=[],a={},c={};e.prototype.nav=function(e){var c=e.templateId||"",u=e.view||"body",d=e.html||"",l=e.script||"",m=e.param||{},p=e.overwrite||!1;""===c&&console.error("templateId must be a string");var v=t(c);v?p?(v.view=u,v.script=l,a[c]=m,r(c,d),document.getElementById(u).innerHTML=d,""!=l&&o(l)):(document.getElementById(v.view).innerHTML=document.getElementById(c).innerHTML,""!=l&&o(l)):(i.push({templateId:c,view:u,script:l}),a[c]=m,r(c,d),document.getElementById(u).innerHTML=d,""!=l&&o(l)),n(c)},e.prototype["goto"]=function(e){void 0===e&&(e=-1);for(var t,n,o=0,r=i.length;r>o;o++)if(n=i[o],n.active){t=o;break}var r=i.length,a=t+e;a>=0&&r>a?this.nav(i[a]):console.error("请确认路由的索引")},e.prototype.getParam=function(e){return""===e?!1:a[e]},e.prototype.getAllParam=function(){return a},e.prototype.onlyPostParam=function(e){var t=e.id||"";return""===t?!1:void(c[t]=e)},e.prototype.onlyGetParam=function(e){return c[e]},window.smartRouter=new e}();